(function(){var bd=NEJ.P,bb=bd("nej.e"),bm=bd("nej.u"),fc=bd("nej.ut"),bT=bd("nm.w"),bc;var ciQ=typeof GEnvType=="undefined"||GEnvType=="online"?"http://iad.g.163.com":"http://t.rec.g.163.com/accuad";bT.ciF=NEJ.C();bc=bT.ciF.bU(fc.dZ);var ciP={homepage:"column689x75",detail:"logo200x220"};bc.cz=function(bf){bf=bf||{};this.cB(bf);this.bs=bb.bG("j-music-ad");if(!this.bs)return;this.ciG=bf.cat||"";this.ciO=bb.bz(this.bs,"hasMusicAd")=="1";var bk=bb.bP(this.bs,"j-flag");this.KS=bk.shift();this.ciH=bk.shift();this.ciN();this.dq([[this.KS,"click",this.gB.bi(this)]])};bc.ciN=function(){var gP="g_cb"+bm.blF(5),bZ=ciQ+"/wa/ad_check?",jF={site:"netease",affiliate:"music",cat:this.ciG,type:ciP[this.ciG],location:1,callback:gP},RW=document.createElement("script");window[gP]=this.ciM.bi(this);RW.src=bZ+bm.eX(jF);RW.id="j-script-ad";RW.type="text/javascript";this.ciL=gP;document.body.appendChild(RW)};bc.ciM=function(hy){if(hy&&hy.result){bb.bH(this.bs,"f-hide");bb.bH(this.ciH,"f-hide");bb.bJ(this.KS,"f-hide")}else if(this.ciO){bb.bH(this.bs,"f-hide");bb.bH(this.KS,"f-hide");bb.bJ(this.ciH,"f-hide");this.ciK(bb.bz(this.KS,"id"),bb.bz(this.KS,"url"),bb.bz(this.KS,"pageid"),bb.bz(this.KS,"pagetype"))}else{bb.bJ(this.bs,"f-hide");bb.bJ(this.KS,"f-hide");bb.bJ(this.ciH,"f-hide")}bb.dW(bb.bG("j-script-ad"));delete window[this.ciL]};bc.ciK=function(bB,bZ,ciJ,ciI){var bV=null;if(this.ciG=="homepage"){bV={id:+bB,url:bZ,page:"recommend",position:"upnewsong"}}else if(this.ciG=="detail"){bV={id:+bB,url:bZ,pageid:+(ciJ||""),pageType:ciI||"",page:"innerdetail",position:"uprelated"}}if(bV&&window.log){window.log("adimpress",bV)}};bc.gB=function(be){var bB=bb.bz(this.KS,"id"),bu=this.ciG=="homepage"?"100_0":"101_0";bA.cG("/api/ad/click",{method:"post",type:"json",data:bm.eX({type_adid:bu+bB})})}})();
(function(){var bd=NEJ.P,cC=NEJ.F,bb=bd("nej.e"),bj=bd("nej.v"),bm=bd("nej.u"),cf=bd("nej.h"),bM=bd("nej.p");var qJ={opacity:1,"z-index":1,background:1,"font-weight":1,filter:1};cf.bnf=function(kh){return qJ[kh]===undefined&&kh.indexOf("color")<0};cf.RM=function(bh,uC,pQ){pQ=pQ.slice(0,-1);bb.ch(bh,"transition",pQ);bb.la(bh,uC);return this};cf.Hm=function(bh,eD,pE){bb.la(bh,eD);bb.ch(bh,"transition","none");pE.call(null,eD);return this}})();
(function(){var bd=NEJ.P,cC=NEJ.F,cf=bd("nej.h"),bM=bd("nej.p");if(bM.ns.trident1)return;cf.Ay=function(){return!0}})();
(function(){var bd=NEJ.P,cg=NEJ.O,cC=NEJ.F,bM=bd("nej.ut"),bc;if(!!bM.bfc)return;bM.bfc=NEJ.C();bc=bM.bfc.bU(bM.dZ);bc.cz=function(bf){this.cB(bf);this.RR=bf.to||cg;this.Hl=bf.from||{};this.cbo=Math.max(0,parseInt(bf.delay)||0)};bc.cR=function(){this.cV();this.cu();if(!!this.Hi){window.clearTimeout(this.Hi);delete this.Hi}delete this.RR;delete this.Hl};bc.bmZ=function(cT){if(!this.Hl)return;if((""+cT).indexOf(".")>=0)cT=+(new Date);if(this.bmY(cT)){this.cu();return}this.gl=requestAnimationFrame(this.bmZ.bi(this))};bc.bmY=cC;bc.hj=function(){var cbt=function(){this.Hi=window.clearTimeout(this.Hi);this.Hl.time=+(new Date);this.gl=requestAnimationFrame(this.bmZ.bi(this))};return function(){this.Hi=window.setTimeout(cbt.bi(this),this.cbo);return this}}();bc.cu=function(){this.gl=cancelRequestAnimationFrame(this.gl);this.bK("onstop");return this}})();
(function(){var bd=NEJ.P,cg=NEJ.O,bm=bd("nej.u"),bM=bd("nej.ut"),bc,bO;if(!!bM.zQ)return;bM.zQ=NEJ.C();bc=bM.zQ.bU(bM.bfc);bO=bM.zQ.dr;bc.cz=function(bf){this.cB(bf);this.bfl=bf.duration||200;this.cbx=1/(200*this.bfl);this.cbE(bf.timing);this.cbG()};bc.cR=function(){this.cV();delete this.Es;delete this.bfq};bc.cbE=function(){var gK=/^cubic\-bezier\((.*?)\)$/i,jY=/\s*,\s*/i,bmQ={linear:[0,0,1,1],ease:[.25,.1,.25,1],easein:[.42,0,1,1],easeout:[0,0,.58,1],easeinout:[0,0,.58,1]};var cbJ=function(bD,bv,bk){bk[bv]=parseFloat(bD)};return function(Sa){Sa=(Sa||"").toLowerCase();this.Es=bmQ[Sa];if(gK.test(Sa)){this.Es=RegExp.$1.split(jY);bm.cv(this.Es,cbJ)}if(!!this.Es)return;this.Es=bmQ.ease}}();bc.cbG=function(){var Er=this.Es,bfv=3*Er[0],bmO=3*(Er[2]-Er[0])-bfv,cbM=1-bfv-bmO,bfy=3*Er[1],bmM=3*(Er[3]-Er[1])-bfy,cbS=1-bfy-bmM;this.bfq={ax:cbM,ay:cbS,bx:bmO,by:bmM,cx:bfv,cy:bfy}};bc.cbY=function(){var bmH=function(cT,oX){return((oX.ax*cT+oX.bx)*cT+oX.cx)*cT};var cca=function(cT,oX){return((oX.ay*cT+oX.by)*cT+oX.cy)*cT};var ccm=function(cT,oX){return(3*oX.ax*cT+2*oX.bx)*cT+oX.cx};var ccz=function(cT,bmy,oX){var t0,t1,t2,x2,d2,i;for(t2=cT,i=0;i<8;i++){x2=bmH(t2,oX)-cT;if(Math.abs(x2)<bmy)return t2;d2=ccm(t2,oX);if(Math.abs(d2)<1e-6)break;t2=t2-x2/d2}t0=0;t1=1;t2=cT;if(t2<t0)return t0;if(t2>t1)return t1;while(t0<t1){x2=bmH(t2,oX);if(Math.abs(x2-cT)<bmy)return t2;if(cT>x2)t0=t2;else t1=t2;t2=(t1-t0)*.5+t0}return t2};return function(el){return cca(ccz(el/this.bfl,this.cbx,this.bfq),this.bfq)}}();bc.bmY=function(cT){var el=cT-this.Hl.time,wj=this.cbY(el),cq=bm.Lh(this.Hl.offset*(1-wj)+this.RR.offset*wj,2),pE=!1;if(el>=this.bfl){cq=this.RR.offset;pE=!0}this.bK("onupdate",{offset:cq});return pE};bc.cu=function(){this.bK("onupdate",{offset:this.RR.offset});bO.cu.apply(this,arguments);return this}})();
(function(){var bM=NEJ.P("nej.ut"),bmx;if(!!bM.Cc)return;bM.Cc=NEJ.C();bmx=bM.Cc.bU(bM.zQ);bmx.cz=function(bf){bf=NEJ.X({},bf);bf.timing="linear";this.cB(bf)}})();
(function(){var bd=NEJ.P,bM=bd("nej.ut"),bc;if(!!bM.Ej)return;bM.Ej=NEJ.C();bc=bM.Ej.bU(bM.zQ);bc.cz=function(bf){bf=NEJ.X({},bf);bf.timing="easein";this.cB(bf)}})();
(function(){var bd=NEJ.P,bM=bd("nej.ut"),bc;if(!!bM.bfM)return;bM.bfM=NEJ.C();bc=bM.bfM.bU(bM.zQ);bc.cz=function(bf){bf=NEJ.X({},bf);bf.timing="easeout";this.cB(bf)}})();
(function(){var bd=NEJ.P,bM=bd("nej.ut"),bc;if(!!bM.bfN)return;bM.bfN=NEJ.C();bc=bM.bfN.bU(bM.zQ);bc.cz=function(bf){bf=NEJ.X({},bf);bf.timing="easeinout";this.cB(bf)}})();
(function(){var bd=NEJ.P,cC=NEJ.F,bb=bd("nej.e"),bj=bd("nej.v"),bm=bd("nej.u"),cf=bd("nej.h"),bM=bd("nej.p"),dY=bd("nej.x"),fc=bd("nej.ut");if(bM.ns.trident)return;var bmv={linear:fc.Cc,"ease-in":fc.Ej,"ease-out":fc.bfM,"ease-in-out":fc.bfN};cf.RM=function(){var ccC=function(uC,pQ){var dT="";bm.fo(uC,function(bD,bX){dT+=pQ.replace("all",bX)});return dT};var ccF=function(bD,kh){if(kh==="filter"){bD=bm.Lh(bD,0);bD="alpha(opacity="+bD+")"}if(kh==="z-index")bD=bm.Lh(bD,0);return bD};var ccH=function(bD){return bmv[bD.split(" ")[2]]};var ccI=function(bh,bD,uC,pE,bv){var bD=bD.split(" "),kh=bD[0],eO=parseFloat(bb.ey(bh,kh))||0,nA=parseFloat(uC[kh])||0,ccJ=bmv[bD[2]],bfU=bD[1].slice(0,-1)*1e3+bD[3].slice(0,1)*1e3;if(bfU>=bh.sumTime){bh.sumTime=bfU;bh.isLastOne=bv}var Mq=nej.p.ek.engine==="trident"&&nej.p.ek.release-5<0;if(kh==="opacity"&&Mq){kh="filter";var eV=bb.ey(bh,kh);eO=parseFloat(eV.split("=")[1])||0;nA=nA*100}var bf={from:{offset:eO},to:{offset:nA},duration:bfU,onupdate:function(cq){var bD=cq.offset;if(!cf.bnf(kh)){bD=ccF(bD,kh);bb.ch(bh,kh,bD)}else{bb.ch(bh,kh,bD+"px")}},onstop:function(kh){var Ec=bh.effects[bv];if(!Ec)return;Ec=ccJ.bW(Ec);if(bh.isLastOne===bv)pE.apply(this)}.bi(this,bv)};return bf};return cf.RM.fj(function(be){be.stopped=!0;var bk=be.args;var bh=bk[0],uC=bk[1],pQ=bk[2],pE=bk[3];bh.sumTime=0,bh.isLastOne=0;var bmp=[];if(pQ.indexOf("all")>-1)pQ=ccC(uC,pQ);var bfY=pQ.slice(0,-1);bfY=bfY.split(",");bh.effects=[];bm.cv(bfY,function(bD,bv){var bf=ccI(bh,bD,uC,pE,bv);bmp.push({o:bf,c:ccH(bD)})});bm.cv(bmp,function(bw,bv){var Ec=bw.c.bF(bw.o);bh.effects[bv]=Ec;Ec.hj()});return this})}();cf.Hm=cf.Hm.fj(function(be){be.stopped=!0;var bk=be.args;var bh=bk[0];bm.cv(bh.effects,function(cg){cg.cu()});bh.effects=[];return this})})();
(function(){var bd=NEJ.P,cC=NEJ.F,cf=bd("nej.h"),bb=bd("nej.e"),bM=bd("nej.p");if(bM.ns.gecko)return;cf.RM=function(bh,uC,pQ){pQ=pQ.slice(0,-1);bb.ch(bh,"transition",pQ);setTimeout(function(){bb.la(bh,uC)},33);return this}})();
(function(){var bd=NEJ.P,cC=NEJ.F,cf=bd("nej.h"),bM=bd("nej.p");if(bM.ns.webkit)return})();
(function(){var bd=NEJ.P,cC=NEJ.F,cf=bd("nej.h"),bM=bd("nej.p");if(bM.ns.presto)return})();
(function(){var bd=NEJ.P,cg=NEJ.O,cC=NEJ.F,bm=bd("nej.u"),cf=bd("nej.h"),bb=bd("nej.e"),bj=bd("nej.v"),bM=bd("nej.ut"),sh;if(!!bM.ql)return;bM.ql=NEJ.C();sh=bM.ql.bU(bM.dZ);sh.cz=function(bf){this.cB(bf);this.DY=bb.bG(bf.node);this.bmn=bf.styles||[];this.bmm=bf.onstop||cC;this.bge=bf.transition||[];this.LH={};this.bml=this.ccO();if(!!cf.Ay&&cf.Ay()){setTimeout(this.Ay.bi(this),this.bgi*1e3)}else{this.dq([[this.DY,"transitionend",this.Ay.bi(this)]])}};sh.cR=function(){if(!!this.DV){this.DV=window.clearInterval(this.DV)}delete this.DY;delete this.bmn;delete this.bml;delete this.LH;delete this.bgk;delete this.bge;delete this.DV;this.cV()};sh.Ay=function(be){if(!!cf.Ay&&cf.Ay()){this.bgl=!1;this.cu();return}if(!!this.bgl&&this.ccT(be)){this.bgl=!1;this.cu()}};sh.ccT=function(be){var bX=be.propertyName;if(bX===this.bgk||bX.indexOf(this.bgk)>-1)return!0;else return!1};sh.ccO=function(){var cdc=function(ds){var bk=ds.split(":"),kh=bk[0],bD=bk[1],bh=this.DY;if(bD.indexOf("=")>-1){var DT=parseInt(bb.ey(bh,kh))||0;var ej=parseInt(bD.split("=")[1]);if(bD.indexOf("+")>-1)bD=DT+ej;else bD=DT-ej}if(cf.bnf(kh)){if(bD.toString().indexOf("px")<0)bD+="px"}this.LH[kh]=bD};var cbQ=function(bv){if(!this.bge[bv])return"";var qZ=this.bge[bv],bI=qZ.duration+qZ.delay;if(bI>=this.bgi){this.bgi=bI;this.bgk=qZ.property}return qZ.property+" "+qZ.duration+"s "+qZ.timing+" "+qZ.delay+"s,"};return function(){var bmc="";this.bgi=0;bm.cv(this.bmn,function(ds,bv){cdc.call(this,ds);bmc+=cbQ.call(this,bv)}.bi(this));return bmc}}();sh.caJ=function(){this.wo={};bm.fo(this.LH,function(bD,kh){this.wo[kh]=bb.ey(this.DY,kh)}.bi(this));this.bK("onplaystate",this.wo)};sh.xP=function(){this.bgl=!0;cf.RM(this.DY,this.LH,this.bml,this.bmm);this.DV=window.setInterval(this.caJ.bi(this),49);return this};sh.cu=function(){cf.Hm(this.DY,this.LH,this.bmm);this.DV=window.clearInterval(this.DV);return this};sh.cdu=function(){};sh.cdD=function(){}})();
(function(){var bd=NEJ.P,cC=NEJ.F,bm=bd("nej.u"),bb=bd("nej.e"),bm=bd("nej.u"),bM=bd("nej.ut");bb.SL=function(bf){bf=bf||{};bf.onstop=bf.onstop||cC;bf.onplaystate=bf.onplaystate||cC;return bf};bb.blQ=function(){var bYk=function(bh,SO,Mq){var gk,fI=true;if(!!Mq){bm.fo(SO,function(bD,bX){if(bX==="opacity"){bX="filter";var eV=bb.ey(bh,bX);if(eV===""){bb.ch(bh,"filter","alpha(opacity=100)");gk=100}else{gk=parseFloat(eV.split("=")[1])||0}bD=bD*100}else{gk=bb.ey(bh,bX)}if(parseInt(gk)===bD)fI=false}.bi(this))}else{bm.fo(SO,function(bD,bX){gk=bb.ey(bh,bX);if(parseInt(gk)===bD)fI=false}.bi(this))}return fI};return function(bh,SO){var Mq=nej.p.ek.engine==="trident"&&nej.p.ek.release-5<0;if(!bYk(bh,SO,Mq))return!1;return!0}}();bb.blN=function(){var bYi=function(bh){var Ui=bb.ey(bh,"display");if(Ui==="none")return!1;return!0};return function(bh,bf,oI){var GL=bf.opacity||oI;bh=bb.bG(bh);if(!bYi.call(bh))return!1;if(!!bh.effect)return!1;if(!bb.blQ(bh,{opacity:GL}))return!1;bf=bb.SL(bf);bh.effect=bM.ql.bF({node:bh,transition:[{property:"opacity",timing:bf.timing||"ease-in",delay:bf.delay||0,duration:bf.duration||1}],styles:["opacity:"+GL],onstop:function(eD){bh.effect=bM.ql.bW(bh.effect);bf.onstop.call(null,eD)},onplaystate:bf.onplaystate.bi(bh.effect)});bh.effect.xP();return this}}.bi(this)();bb.blK=function(bh,bf){return bb.blN(bh,bf,1)};bb.bYa=function(bh,bf){return bb.blN(bh,bf,0)};bb.bXk=function(bh){bb.bWT(bh);return this};bb.bWT=function(bh){bh=bb.bG(bh);if(bh.effect&&bh.effect.cu()){if(!!bh.effect)bh.effect=bM.ql.bW(bh.effect)}return this};bb.cdT=function(bh,ld,bf){bh=bb.bG(bh);if(!!bh.effect)return!1;if(!bb.blQ(bh,ld))return!1;bf=bb.SL(bf);bf.duration=bf.duration||[];var hs=ld.top||0,jQ=ld.left||0;bh.effect=bM.ql.bF({node:bh,transition:[{property:"top",timing:bf.timing||"ease-in",delay:bf.delay||0,duration:bf.duration[0]||1},{property:"left",timing:bf.timing||"ease-in",delay:bf.delay||0,duration:bf.duration[1]||1}],styles:["top:"+hs,"left:"+jQ],onstop:function(eD){bf.onstop.call(null,eD);bh.effect=bM.ql.bW(bh.effect)},onplaystate:bf.onplaystate.bi(bh.effect)});bh.effect.xP();return this};bb.blE=function(){return function(bh,ld,bf){bh=bb.bG(bh);if(!!bh.effect)return!1;bf=bb.SL(bf);var bk=ld.split(":"),bVQ=bk[0],blC=[];blC.push(ld);bh.effect=bM.ql.bF({node:bh,transition:[{property:bVQ,timing:bf.timing||"ease-in",delay:bf.delay||0,duration:bf.duration||1}],styles:blC,onstop:function(eD){bf.onstop.call(null,eD);bh.effect=bM.ql.bW(bh.effect)},onplaystate:bf.onplaystate.bi(bh.effect)});bh.effect.xP();return this}}();bb.cea=function(){var bgK=function(bh,bu){return bu=="height"?bh.clientHeight:bh.clientWidth};return function(bh,bu,bf){bh=bb.bG(bh);if(!!bh.effect)return!1;bf=bb.SL(bf);var bD=bf.value||false;if(!bD){bb.ch(bh,"display","block");var bh=bb.bG(bh);bD=bgK(bh,bu)}var fI=bb.ey(bh,"visibility");if(fI==="hidden"){bh.style.height=0;bb.ch(bh,"visibility","inherit");bh.effect=bM.ql.bF({node:bh,transition:[{property:bu,timing:bf.timing||"ease-in",delay:bf.delay||0,duration:bf.duration||1}],styles:[bu+":"+bD],onstop:function(eD){bf.onstop.call(null,eD);bh.effect=bM.ql.bW(bh.effect);SW=window.clearTimeout(SW)},onplaystate:bf.onplaystate.bi(bh.effect)})}else{bh.style.height=bD;bh.effect=bM.ql.bF({node:bh,transition:[{property:bu,timing:bf.timing||"ease-in",delay:bf.delay||0,duration:bf.duration||1}],styles:[bu+":"+0],onstop:function(eD){bb.ch(bh,"visibility","hidden");bb.ch(bh,bu,"auto");bf.onstop.call(null,eD);bh.effect=bM.ql.bW(bh.effect);SW=window.clearTimeout(SW)},onplaystate:bf.onplaystate.bi(bh.effect)})}var SW=window.setTimeout(function(){bh.effect.xP()}.bi(this),0);return this}}()})();
(function(){var bd=NEJ.P,cg=NEJ.O,bb=bd("nej.e"),bj=bd("nej.v"),bm=bd("nej.u"),bI=bd("nej.ut"),bA=bd("nej.j"),bq=bd("nm.d"),bn=bd("nm.x"),bQ=bd("nm.m"),bT=bd("nm.w"),bL=bd("nm.m.disc"),bo=bd("nm.l"),bc,bO;var bannerTypeMap={1:"歌曲",10:"专辑",100:"艺人",1e3:"歌单",1001:"电台节目",1002:"用户",1003:"活动",1004:"MV",1005:"专题","-1004":"明星访谈",2e3:"抽奖活动",2001:"熟人抢票",2003:"歌单(webview)",2004:"首发",3e3:"推广",3001:"直播",1009:"电台",4001:"动态话题"};bL.HB=NEJ.C();bc=bL.HB.bU(bQ.ei);bc.cY=function(bf){this.df();this.bgM=bq.hW.bF({onitemadd:this.vW.bi(this)});this.kt=bq.kQ.bF();this.ciR=bT.ciF.bF({cat:"homepage"});this.bgN=undefined;this.bTm();this.bSl();this.bRw();this.DI=[];Array.prototype.push.apply(this.DI,bb.bP("album-roller","j-img"));Array.prototype.push.apply(this.DI,bb.bP("top-flag","j-img"));Array.prototype.push.apply(this.DI,bb.bP("hotdj-list","j-img"));bj.bt(window,"scroll",this.bgS.bi(this));bj.bt(window,"resize",this.bgS.bi(this));bj.bt("top-flag","click",this.bQV.bi(this));bj.bt("personalRec","click",this.bQC.bi(this));bj.bt("discover-module","click",this.cS.bi(this));this.bgS();this.bQj();var bln=bm.iO(top.location.search.slice(1));if(bln.market){bb.bG("side-download").href="/download?market="+bln.market}};bc.bgS=function(){var bPs=function(lU,cq,fW){var Iv=cq.y<lU.scrollTop+lU.clientHeight;return Iv};return function(be){if(this.DI.length<1)return;var lU=bb.qr();for(var i=0,mD=this.DI,cq;i<mD.length;++i){cq=bb.jX(mD[i]);if(bPs(lU,cq)){mD[i].src=bb.bz(mD[i],"src");this.DI.splice(i,1);--i}}}}();bc.bQV=function(be){var bh=bj.bY(be,"subscribe-flag");if(!!bh&&!bb.cU(bh,"s-bg-10-slt")){bj.dp(be);var yh=bn.Qh();if(!yh){top.login();return}var bPq=parseInt(bb.bz(bh,"plid"));this.bgM.kV({key:"playlist_fav-"+GUser.userId,data:{id:bPq},ext:{node:bh}})}};bc.bTm=function(){var xe=window.Gbanners;var Ji=xe.length;var Ti=bb.bG("index-banner");var cs=bb.bP(document.body,"d-flag");var bPf=cs[0];var bhe=cs[1];var bhf=cs[2];var yk=0;var bhh=false;var bhi=bb.bP(Ti,"pg-flag");var Tk=function(bv){bv=(bv+Ji)%Ji;var oe=xe[bv];bb.ix(bhf,"src",oe.picUrl);bb.ix(bhe,"href",oe.url);if((oe.targetType==1003||oe.targetType==3e3)&&oe.url.indexOf(location.hostname+"/#")<0){bb.ix(bhe,"target","_blank")}else{bb.ix(bhe,"target","")}bb.ch(bPf,"background-image","url("+oe.backgroundUrl+")");bb.bH(bhi[yk],"z-slt");bb.bJ(bhi[bv],"z-slt");yk=bv;blh((bv+1+Ji)%Ji);blg(bv)};var blg=function(bv){var oe=xe[bv];if(window.log&&oe){window.log("bannerimpress",{type:bannerTypeMap[oe.targetType],url:oe.url,id:oe.targetId,position:bv})}};var bNt=function(bv){bb.bH(bhi[yk],"z-slt");bb.bYa(bhf,{timing:"ease-in",opacity:.2,onstop:function(be){Tk(bv);bb.blK(bhf,{timing:"ease-out",onstop:function(be){},onplaystate:function(be){}})},onplaystate:function(be){}})};var blc=function(bZ){var img=new Image;img.src=bZ};var blh=function(bv){blc(xe[bv].backgroundUrl);blc(xe[bv].picUrl)};blg(0);bj.bt(Ti,"click",function(be){var bh=bj.bY(be,"click-flag");if(!!bh){bj.dp(be);if(bb.cU(bh,"btnl")){Tk(yk-1)}else if(bb.cU(bh,"btnr")){Tk(yk+1)}else if(bb.cU(bh,"pg-flag")){var bv=parseInt(bb.bz(bh,"index"));Tk(bv)}}else{bh=bj.bY(be,"c:active");if(bh&&bh.href){var oe=xe[yk];if(window.log&&oe){window.log("click",{type:"banners",object:bannerTypeMap[oe.targetType],url:oe.url,id:oe.targetId,position:yk})}}}}.bi(this));bj.bt(Ti,"mouseover",function(be){bhh=true}.bi(this));bj.bt(Ti,"mouseout",function(be){bhh=false}.bi(this));setInterval(function(){if(!bhh){bNt((yk+1)%Ji)}}.bi(this),5e3);blh(1)};bc.bSl=function(){var blb=bb.bG("album-roller");var Tq=bb.bP(blb,"roller-flag");var yq=Tq.length;var Ts=1;var isOnPlay=false;var bla=function(bf){isOnPlay=true;var Tt=bf.direction=="left"?"-":"";var Tu=Tt=="-"?(Ts+1+yq)%yq:(Ts-1+yq)%yq;var bMG=Tt=="-"?(Tu+1+yq)%yq:(Tu-1+yq)%yq;bb.blE(Tq[Ts],"left:"+Tt+"645",{timing:"ease-out",delay:0,duration:1,onstop:function(be){Ts=Tu;bb.ch(Tq[bMG],"left",-645*parseInt(Tt+"1")+"px");setTimeout(function(){isOnPlay=false},200)},onplaystate:function(be){}});bb.blE(Tq[Tu],"left:0",{timing:"ease-out",delay:0,duration:1,onstop:function(be){},onplaystate:function(be){}})};var leftRoll=function(){if(!isOnPlay){bla({direction:"left"})}};var rightRoll=function(){if(!isOnPlay){bla({direction:"right"})}};bj.bt(blb,"click",function(be){var bh=bj.bY(be,"click-flag");if(!!bh){bj.dp(be);if(bb.cU(bh,"pre")){rightRoll()}else if(bb.cU(bh,"nxt")){leftRoll()}}}.bi(this))};bc.bRw=function(){var bh=bb.bG("personalRec");bA.cG("/api/discovery/recommend/resource",{type:"json",onload:function(be){var wB=new Date,wC,bl,BN,kz,II;II=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];if(GUser){wC=new Date(parseInt(GUser.birthday))}kz=wB.getDate();BN=II[wB.getDay()];if(wC&&wB.getMonth()==wC.getMonth()&&wB.getDate()==wC.getDate()){bl={weekday:BN,day:kz,dec1:"生日特别推荐",dec2:"亲爱的"+GUser.nickname+"，",dec3:"祝你生日快乐"}}else{bl={weekday:BN,day:kz,dec1:"每日歌曲推荐",dec2:"根据你的口味生成，",dec3:"每天6:00更新"}}if(be.code==200){var nO=[];if(be.recommend&&be.recommend.length){for(var i=0;i<be.recommend.length;i++){var hZ={};hZ.position=i;hZ.id=be.recommend[i].id;hZ.alg=be.recommend[i].alg;switch(be.recommend[i].type){case 0:be.recommend[i].rtype=17;be.recommend[i].link="/dj?id="+be.recommend[i].id;hZ.scene="user-dj-recommend";break;case 1:be.recommend[i].rtype=13;be.recommend[i].link="/playlist?id="+be.recommend[i].id;hZ.scene="user-playlist";break}if(i<3)nO.push({action:"recommendimpress",json:hZ})}this.kt.OX(nO);bh.innerHTML=bb.dg("m-wgt-rmd",{data:bl,recommend:be.recommend.slice(0,3)},{getPlayCount:bn.nW,cutString:bn.AX})}}}.bi(this),onerror:function(){}})};bc.vW=function(be){bb.bJ(be.ext.node,"s-bg-10-slt");be.ext.node.title="已收藏"};bc.bQC=function(be){var bh=bj.bY(be,"d:action");var cl=bb.bz(bh,"action");var bB,bu,bkW,cN;if(cl)bj.dp(be);switch(cl){case"dislike":bB=bb.bz(bh,"resId");bu=bb.bz(bh,"resType");bkW=bb.bz(bh,"alg");this.bgN=bb.bz(bh,"index");cN={resId:bB,resType:bu,alg:bkW};bA.cG("/api/discovery/recommend/dislike",{type:"json",query:bm.eX(cN),onload:function(be){if(be.code==200){var wD=be.data[this.bgN];if(wD.type==0){wD.rtype=17;wD.link="/dj?id="+wD.id}else if(wD.type==1){wD.rtype=13;wD.link="/playlist?id="+wD.id}bh.parentNode.parentNode.innerHTML=bb.dg("m-rmd-item",{rec:wD,index:this.bgN})}else{bo.ci.bR({tip:"暂无更多推荐",autoclose:true})}}.bi(this),onerror:function(){bo.ci.bR({tip:"暂无更多推荐",autoclose:true})}});break}};bc.cS=function(be){var bh=bj.bY(be,"d:action");switch(bb.bz(bh,"action")){case"checkfee":bj.cu(be);bn.kK("",bb.bz(bh,"resId"),bb.bz(bh,"resType"));break;case"checkin":bA.cG("/api/point/dailyTask",{type:"json",method:"get",query:{type:1},onload:function(be){if(be.code==200){var bkV=bb.oZ(bn.fX('<div class="tip s-bg s-bg-14 f-pa">获得 <span class="s-fc6 f-fw1">{0}</span> 积分</div>',be.point||0));bh.parentNode.appendChild(bkV);bh.innerHTML="<i>已签到</i>";bb.gL(bh,"u-btn2-2","u-btn2-dis");window.setTimeout(function(){bb.dW(bkV)},1500);var bMA=bb.bz(bh,"needSafety")=="true";if(bMA){bn.lg({title:"安全认证提示",clazz:"m-layer-w5",html:bb.dg("m-popup-info",{tip:"您目前的积分数额较高，为避免安全风险<br>请尽快完成安全认证。",oktext:"去安全认证",cctext:"我知道了"}),onaction:function(be){if(be.action=="ok"){window.open("/#/store/security/");be.stopped=true;window.g_cbSafety=function(){location.reload()}}}})}}else{}}});break}};bc.bQj=function(){var cN=bm.iO(location.search.slice(1)),bhG=cN.pids;if(bhG){bA.cG("/api/song/detail",{query:{ids:bhG},type:"json",method:"get",onload:function(be){var bk=bn.FW(be.songs,true,true),cH=[];bm.cv(JSON.parse(bhG),function(bB){var jr=bm.eg(bk,function(co){return co.id==bB});if(jr>=0){cH.push(bk[jr])}});top.player.addTo(cH,false,true)}})}};bb.dV("template-box");new bL.HB})()